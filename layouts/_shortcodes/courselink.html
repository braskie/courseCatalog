{{/* layouts/_shortcodes/courselink.html */}}


{{ $number := cond (.IsNamedParams) (.Get "number") (.Get 0) }}
{{ $showNumber := cond (.IsNamedParams) (.Get "showNumber") (.Get 1) | default true -}}
{{ $showName := cond (.IsNamedParams) (.Get "showName") (.Get 2) | default true -}}

{{ $data := dict }}
{{ $path := "data/courses.json" }}


{{ with resources.Get $path }}
  {{ with . | transform.Unmarshal }}
    {{ $data = . }}
  {{ end }}
{{ else }}
  {{ errorf "Unable to get global resource %q" $path }}
{{ end }}

{{ range where $data "number" $number }}
{{ $page := .Site.GetPage .Get $number }}
    <a href="/{{ .number }}">
      {{ if $showNumber }}{{ .number }}{{with .child }}, {{ . }}{{ end }} {{ end }}
      {{ if $showName }}{{ .name }}{{ end }}</a><sup>ðŸ“–</sup>{{ end }}